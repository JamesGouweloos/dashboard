(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{86285:function(e,t,a){Promise.resolve().then(a.bind(a,99560))},99560:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var r=a(57437),s=a(2265),n=a(8267),i=a(30638),l=a(13287),o=a(95252),c=a(31047),d=a(97226),x=a(95805);function u(e){let{data:t}=e,a=[{title:"Total Revenue",value:"$".concat(t.total_revenue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),icon:o.Z,color:"bg-blue-500",bgColor:"bg-blue-50",textColor:"text-blue-700"},{title:"Total Bookings",value:t.total_bookings.toString(),icon:c.Z,color:"bg-green-500",bgColor:"bg-green-50",textColor:"text-green-700"},{title:"Bed Nights",value:t.total_bed_nights.toString(),icon:d.Z,color:"bg-purple-500",bgColor:"bg-purple-50",textColor:"text-purple-700"},{title:"Total Guests",value:t.total_pax.toString(),icon:x.Z,color:"bg-orange-500",bgColor:"bg-orange-50",textColor:"text-orange-700"}];return(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((e,t)=>{let a=e.icon;return(0,r.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("div",{className:"".concat(e.bgColor," p-3 rounded-lg"),children:(0,r.jsx)(a,{className:"h-6 w-6 ".concat(e.textColor)})}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.title}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value})]})]})},e.title)})})}var h=a(65100),m=a(5778),y=a(65606),g=a(31798),p=a(32122),f=a(57501),b=a(40624);function j(){let[e,t]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0),[o,c]=(0,s.useState)(null),[d,x]=(0,s.useState)("All"),[j,v]=(0,s.useState)("All"),N=(0,b.p)();(0,s.useEffect)(()=>{k()},[N]);let k=async()=>{try{let e=await fetch("/api/data");if(!e.ok)throw Error("Failed to fetch data");let a=await e.json();t(a),l(!1)}catch(e){e instanceof Error?c(e.message):c("An unknown error occurred"),l(!1)}};if(a)return(0,r.jsx)(n.Z,{children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading dashboard data..."})]})})});if(o)return(0,r.jsx)(n.Z,{children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"text-red-600 mb-4",children:["Error: ",o]}),(0,r.jsx)("p",{className:"text-gray-600",children:"Please run: python process_booking_data.py"})]})})});if(!e)return null;let w=(0,f.p)(e,d,j);return(0,r.jsx)(n.Z,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard Overview"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Key metrics and visualizations for booking performance"})]}),(0,r.jsx)(i.Z,{statusFilter:d,classFilter:j,onStatusFilterChange:x,onClassFilterChange:v}),(0,r.jsx)(u,{data:w.summary}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)(h.Z,{data:w.revenue_trends||e.revenue_trends}),(0,r.jsx)(m.Z,{data:w.by_status})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)(y.Z,{data:w.by_source||e.by_source}),(0,r.jsx)(g.Z,{data:w.top_extras||e.top_extras})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:(0,r.jsx)(p.Z,{data:w.payment_status||e.payment_status})})]})})}},5778:function(e,t,a){"use strict";a.d(t,{Z:function(){return x}});var r=a(57437),s=a(47625),n=a(75169),i=a(3574),l=a(20407),o=a(8147),c=a(13287),d=a(48736);function x(e){let{data:t}=e,a=Object.entries(t).map(e=>{let[t,a]=e;return{name:t,value:a.count,revenue:a.revenue}}),x=["#0ea5e9","#10b981","#f59e0b","#ef4444"];return(0,r.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,r.jsx)(d.Z,{className:"h-5 w-5 text-primary-600"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Booking Status"})]}),(0,r.jsx)(s.h,{width:"100%",height:300,children:(0,r.jsxs)(n.u,{children:[(0,r.jsx)(i.b,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:a}=e;return"".concat(t," ").concat((100*a).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:a.map((e,t)=>(0,r.jsx)(l.b,{fill:x[t%x.length]},"cell-".concat(t)))}),(0,r.jsx)(o.u,{})]})})]})}},32122:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var r=a(57437),s=a(47625),n=a(75169),i=a(3574),l=a(20407),o=a(8147),c=a(22190),d=a(13287),x=a(88226);function u(e){let{data:t}=e,a=[{name:"Fully Paid",value:t.fully_paid},{name:"Partially Paid",value:t.partially_paid},{name:"Unpaid",value:t.unpaid},{name:"Overpaid",value:t.overpaid}].filter(e=>e.value>0),u=["#10b981","#f59e0b","#ef4444","#3b82f6"];return(0,r.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,r.jsx)(x.Z,{className:"h-5 w-5 text-primary-600"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Status"})]}),(0,r.jsx)(s.h,{width:"100%",height:300,children:(0,r.jsxs)(n.u,{children:[(0,r.jsx)(i.b,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,value:a}=e;return"".concat(t,": ").concat(a)},outerRadius:80,fill:"#8884d8",dataKey:"value",children:a.map((e,t)=>(0,r.jsx)(l.b,{fill:u[t%u.length]},"cell-".concat(t)))}),(0,r.jsx)(o.u,{}),(0,r.jsx)(c.D,{})]})})]})}},65100:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var r=a(57437),s=a(47625),n=a(21156),i=a(56940),l=a(97059),o=a(62994),c=a(8147),d=a(22190),x=a(54061),u=a(13287),h=a(70525);function m(e){let{data:t}=e,a=Object.entries(t).map(e=>{let[t,a]=e;return{month:t.replace("-"," "),revenue:a.revenue,bookings:a.bookings}}).sort((e,t)=>e.month.localeCompare(t.month));return(0,r.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(h.Z,{className:"h-5 w-5 text-primary-600"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Revenue Trends"})]})}),(0,r.jsx)(s.h,{width:"100%",height:300,children:(0,r.jsxs)(n.w,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[(0,r.jsx)(i.q,{strokeDasharray:"3 3"}),(0,r.jsx)(l.K,{dataKey:"month",tick:{fill:"#6B7280"},style:{fontSize:"12px"}}),(0,r.jsx)(o.B,{tick:{fill:"#6B7280"},style:{fontSize:"12px"},tickFormatter:e=>"$".concat(e.toLocaleString())}),(0,r.jsx)(c.u,{contentStyle:{borderRadius:"8px"},formatter:e=>"$".concat(e.toLocaleString())}),(0,r.jsx)(d.D,{}),(0,r.jsx)(x.x,{type:"monotone",dataKey:"revenue",stroke:"#0ea5e9",strokeWidth:2,dot:{r:4},name:"Revenue"})]})})]})}},31798:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var r=a(57437),s=a(47625),n=a(77031),i=a(56940),l=a(97059),o=a(62994),c=a(8147),d=a(31699),x=a(13287);let u=(0,a(39763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);function h(e){let{data:t}=e,a=Object.entries(t).map(e=>{let[t,a]=e;return{name:t.length>25?t.substring(0,25)+"...":t,revenue:a}}).sort((e,t)=>t.revenue-e.revenue);return(0,r.jsxs)(x.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,r.jsx)(u,{className:"h-5 w-5 text-primary-600"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Top Revenue Extras"})]}),(0,r.jsx)(s.h,{width:"100%",height:300,children:(0,r.jsxs)(n.v,{data:a,margin:{top:5,right:30,left:20,bottom:100},children:[(0,r.jsx)(i.q,{strokeDasharray:"3 3"}),(0,r.jsx)(l.K,{dataKey:"name",angle:-45,textAnchor:"end",height:100,tick:{fill:"#6B7280",fontSize:"10px"}}),(0,r.jsx)(o.B,{tick:{fill:"#6B7280"},style:{fontSize:"12px"},tickFormatter:e=>"$".concat(e.toLocaleString())}),(0,r.jsx)(c.u,{contentStyle:{borderRadius:"8px"},formatter:e=>"$".concat(e.toLocaleString())}),(0,r.jsx)(d.$,{dataKey:"revenue",fill:"#f59e0b",radius:[4,4,0,0]})]})})]})}},31047:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},95252:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},97226:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},95805:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[222,163,156,510,710,971,117,744],function(){return e(e.s=86285)}),_N_E=e.O()}]);